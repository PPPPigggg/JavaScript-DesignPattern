<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /* åŽŸæ¥çš„æ ‘å½¢ç»“æž„ */
      const oldTreeData = [
        {
          name: 'æ€»éƒ¨',
          place: 'ä¸€æ¥¼',
          children: [
            { name: 'è´¢åŠ¡éƒ¨', place: 'äºŒæ¥¼' },
            { name: 'ç”Ÿäº§éƒ¨', place: 'ä¸‰æ¥¼' },
            {
              name: 'å¼€å‘éƒ¨',
              place: 'ä¸‰æ¥¼',
              children: [
                {
                  name: 'è½¯ä»¶éƒ¨',
                  place: 'å››æ¥¼',
                  children: [
                    { name: 'åŽç«¯éƒ¨', place: 'äº”æ¥¼' },
                    { name: 'å‰ç«¯éƒ¨', place: 'ä¸ƒæ¥¼' },
                    { name: 'æŠ€æœ¯æ”¯æŒéƒ¨', place: 'å…­æ¥¼' }
                  ]
                },
                {
                  name: 'ç¡¬ä»¶éƒ¨',
                  place: 'å››æ¥¼',
                  children: [
                    { name: 'DSPéƒ¨', place: 'å…«æ¥¼' },
                    { name: 'ARMéƒ¨', place: 'äºŒæ¥¼' },
                    { name: 'è°ƒè¯•éƒ¨', place: 'ä¸‰æ¥¼' }
                  ]
                }
              ]
            }
          ]
        }
      ]

      // å±žæ€§ç»“æž„å¹³é“º
      function treeDataAdapter(treeArr, flatArr = []) {
        treeArr.forEach((val) => {
          if (val.children) {
            treeDataAdapter(val.children, flatArr)
          }
          const { name, place } = val
          flatArr.push({ name, place })
        })
        return flatArr
      }
      console.log(
        '%c Line:57 ðŸ¥– treeDataAdapter(oldTreeData)',
        'color:#f5ce50',
        treeDataAdapter(oldTreeData)
      )
    </script>
  </body>
</html>
